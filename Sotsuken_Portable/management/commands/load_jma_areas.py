from django.core.management.base import BaseCommand
from Sotsuken_Portable.models import JmaArea

class Command(BaseCommand):
    help = '気象庁エリアコードの初期データを登録します'

    def handle(self, *args, **options):
        # 主要なエリアコードと座標（県庁所在地など）のリスト
        # 必要に応じて増やしてください
        areas = [
            {"name": "北海道 (札幌)", "code": "016000", "lat": 43.06417, "lon": 141.34694},
            {"name": "青森県 (青森)", "code": "020000", "lat": 40.82444, "lon": 140.74000},
            {"name": "岩手県 (盛岡)", "code": "030000", "lat": 39.70361, "lon": 141.15639},
            {"name": "宮城県 (仙台)", "code": "040000", "lat": 38.26822, "lon": 140.86942},
            {"name": "秋田県 (秋田)", "code": "050000", "lat": 39.71861, "lon": 140.10250},
            {"name": "山形県 (山形)", "code": "060000", "lat": 38.24056, "lon": 140.36333},
            {"name": "福島県 (福島)", "code": "070000", "lat": 37.75000, "lon": 140.46778},
            {"name": "茨城県 (水戸)", "code": "080000", "lat": 36.34139, "lon": 140.44667},
            {"name": "栃木県 (宇都宮)", "code": "090000", "lat": 36.56583, "lon": 139.88361},
            {"name": "群馬県 (前橋)", "code": "100000", "lat": 36.39111, "lon": 139.06083},
            {"name": "埼玉県 (さいたま)", "code": "110000", "lat": 35.85694, "lon": 139.64889},
            {"name": "千葉県 (千葉)", "code": "120000", "lat": 35.60472, "lon": 140.12333},
            {"name": "東京都 (東京)", "code": "130000", "lat": 35.68944, "lon": 139.69167},
            {"name": "神奈川県 (横浜)", "code": "140000", "lat": 35.44778, "lon": 139.64250},
            {"name": "新潟県 (新潟)", "code": "150000", "lat": 37.90222, "lon": 139.02361},
            {"name": "富山県 (富山)", "code": "160000", "lat": 36.69528, "lon": 137.21139},
            {"name": "石川県 (金沢)", "code": "170000", "lat": 36.59444, "lon": 136.62556},
            {"name": "福井県 (福井)", "code": "180000", "lat": 36.06528, "lon": 136.22194},
            {"name": "山梨県 (甲府)", "code": "190000", "lat": 35.66389, "lon": 138.56833},
            {"name": "長野県 (長野)", "code": "200000", "lat": 36.65139, "lon": 138.18111},
            {"name": "岐阜県 (岐阜)", "code": "210000", "lat": 35.39111, "lon": 136.72222},
            {"name": "静岡県 (静岡)", "code": "220000", "lat": 34.97694, "lon": 138.38306},
            {"name": "愛知県 (名古屋)", "code": "230000", "lat": 35.18028, "lon": 136.90667},
            {"name": "三重県 (津)", "code": "240000", "lat": 34.73028, "lon": 136.50861},
            {"name": "滋賀県 (大津)", "code": "250000", "lat": 35.00444, "lon": 135.86833},
            {"name": "京都府 (京都)", "code": "260000", "lat": 35.02139, "lon": 135.75556},
            {"name": "大阪府 (大阪)", "code": "270000", "lat": 34.68639, "lon": 135.52000},
            {"name": "兵庫県 (神戸)", "code": "280000", "lat": 34.69139, "lon": 135.18306},
            {"name": "奈良県 (奈良)", "code": "290000", "lat": 34.68528, "lon": 135.83278},
            {"name": "和歌山県 (和歌山)", "code": "300000", "lat": 34.22611, "lon": 135.16750},
            {"name": "鳥取県 (鳥取)", "code": "310000", "lat": 35.50361, "lon": 134.23833},
            {"name": "島根県 (松江)", "code": "320000", "lat": 35.47222, "lon": 133.05056},
            {"name": "岡山県 (岡山)", "code": "330000", "lat": 34.66167, "lon": 133.93500},
            {"name": "広島県 (広島)", "code": "340000", "lat": 34.39639, "lon": 132.45944},
            {"name": "山口県 (山口)", "code": "350000", "lat": 34.18583, "lon": 131.47139},
            {"name": "徳島県 (徳島)", "code": "360000", "lat": 34.06583, "lon": 134.55944},
            {"name": "香川県 (高松)", "code": "370000", "lat": 34.34028, "lon": 134.04333},
            {"name": "愛媛県 (松山)", "code": "380000", "lat": 33.84167, "lon": 132.76611},
            {"name": "高知県 (高知)", "code": "390000", "lat": 33.55972, "lon": 133.53111},
            {"name": "福岡県 (福岡)", "code": "400000", "lat": 33.60639, "lon": 130.41806},
            {"name": "佐賀県 (佐賀)", "code": "410000", "lat": 33.24944, "lon": 130.29889},
            {"name": "長崎県 (長崎)", "code": "421000", "lat": 32.74472, "lon": 129.87361},
            {"name": "熊本県 (熊本)", "code": "430000", "lat": 32.78972, "lon": 130.74167},
            {"name": "大分県 (大分)", "code": "440000", "lat": 33.23806, "lon": 131.61250},
            {"name": "宮崎県 (宮崎)", "code": "450000", "lat": 31.91111, "lon": 131.42389},
            {"name": "鹿児島県 (鹿児島)", "code": "460100", "lat": 31.56028, "lon": 130.55806},
            {"name": "沖縄県 (那覇)", "code": "471000", "lat": 26.21250, "lon": 127.68111}
        ]

        for area in areas:
            obj, created = JmaArea.objects.update_or_create(
                code=area["code"],
                defaults={
                    "name": area["name"],
                    "latitude": area["lat"],
                    "longitude": area["lon"]
                }
            )
            action = "作成" if created else "更新"
            self.stdout.write(f"{area['name']} を{action}しました。")