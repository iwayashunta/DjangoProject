{% extends "base.html" %}
{% block title %}新しいグループを作成{% endblock %}
{% block header_title %}新しいグループを作成{% endblock %}
{% block content %}
<div class="bg-white p-8 rounded-xl shadow-lg max-w-lg mx-auto">
<h2 class="text-2xl font-bold mb-6">新しいグループを作成</h2>
<form method="post" onsubmit="disableButton(this)">
{% csrf_token %}
{{ form.as_p }}
<button type="submit" class="w-full mt-6 bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700 font-semibold">
作成する
</button>
</form>
</div>
{% endblock %}

{% block body_extra %}
    <script>
    function disableButton(form) {
        const btn = form.querySelector('button[type="submit"]');
        if (btn) {
            btn.disabled = true;
            btn.innerText = '処理中...';
            btn.classList.add('opacity-50', 'cursor-not-allowed');
        }
        // trueを返さないとフォーム送信自体がキャンセルされてしまうので注意
        return true;
        }
    </script>
{% endblock %}