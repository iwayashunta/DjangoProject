{% extends 'base.html' %}
{% block title %}アナウンスの作成・編集{% endblock %}
{% block header_title %}アナウンスの作成・編集{% endblock %}

{% block content %}
<div class="p-4 md:p-8 max-w-2xl mx-auto">
    <div class="bg-white p-6 rounded-xl shadow-lg border border-gray-200">
        <h2 class="text-lg font-bold mb-6 text-gray-800 border-b pb-2">
            {% if form.instance.pk %}アナウンス編集{% else %}新規アナウンス作成{% endif %}
        </h2>

        <form method="post" onsubmit="return disableButton(this)">
            {% csrf_token %}
            
            <!-- タイトル -->
            <div class="mb-6">
                <label for="{{ form.title.id_for_label }}" class="block text-gray-700 text-sm font-bold mb-2">
                    {{ form.title.label }} <span class="text-red-500">*</span>
                </label>
                {{ form.title }}
                {% if form.title.errors %}<p class="text-red-500 text-xs mt-1">{{ form.title.errors.0 }}</p>{% endif %}
            </div>

            <!-- 重要度 -->
            <div class="mb-6">
                <label for="{{ form.severity.id_for_label }}" class="block text-gray-700 text-sm font-bold mb-2">
                    {{ form.severity.label }}
                </label>
                {{ form.severity }}
            </div>

            <!-- 内容 -->
            <div class="mb-6">
                <label for="{{ form.content.id_for_label }}" class="block text-gray-700 text-sm font-bold mb-2">
                    {{ form.content.label }} <span class="text-red-500">*</span>
                </label>
                {{ form.content }}
                {% if form.content.errors %}<p class="text-red-500 text-xs mt-1">{{ form.content.errors.0 }}</p>{% endif %}
            </div>

            <!-- 有効/無効チェックボックス -->
            <div class="mb-6 flex items-center">
                {{ form.is_active }}
                <label for="{{ form.is_active.id_for_label }}" class="ml-2 block text-gray-700 text-sm font-bold">
                    この情報を公開する（有効にする）
                </label>
            </div>
            
            <!-- ボタン -->
            <div class="flex justify-between items-center mt-8 pt-4 border-t border-gray-100">
                <a href="{% url 'Sotsuken_Portable:official_alert_list' %}" 
                   class="text-gray-500 hover:text-gray-700 font-medium text-sm transition-colors">
                   キャンセル
                </a>
                <button type="submit" 
                        class="bg-orange-600 text-white px-8 py-3 rounded-lg shadow-md hover:bg-orange-700 font-bold transition-all transform hover:scale-105">
                    保存して配信
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}